(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{418:function(t,e,s){"use strict";s.r(e);var a=s(27),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"signing-commits"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#signing-commits"}},[t._v("#")]),t._v(" Signing commits")]),t._v(" "),s("p",[t._v("We would appricate that all commits to Blockcore be signed by the contributors.")]),t._v(" "),s("h2",{attrs:{id:"windows"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#windows"}},[t._v("#")]),t._v(" Windows")]),t._v(" "),s("ol",[s("li",[t._v("Install "),s("a",{attrs:{href:"https://gpg4win.org/download.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("GPG4Win"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("Run Kleopatra")]),t._v(" "),s("li",[t._v("Generate a key, preferably 4096 bytes. Avoid pass phrase if you don't want to supply it on every commit or use tools to cache it locally.")]),t._v(" "),s("li",[t._v("Fill out your details, name and e-mail. The e-mail must be a verified address on Github, or your no-reply address on Github.")]),t._v(" "),s("li",[t._v("Find your key by opening cmd.exe")])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("gpg --list-secret-keys --keyid-format LONG\n")])])]),s("p",[t._v('Above command will return your keys, starting with their strength and then ID. Make sure you use the "sec" key and not the "ssb" key. "sec" is for Certify and Signing, the "ssb" is for Encrypting.')]),t._v(" "),s("p",[t._v("Depending on your environment variables, cmd and git bash will store keys in different locations. Kleopatra will put keys in the location that cmd.exe looks at.")]),t._v(" "),s("p",[t._v("cmd.exe: C:\\Users\\USER\\AppData\\Roaming\\gnupg"),s("br"),t._v("\ngit bash: C:\\Users\\USER.gnupg")]),t._v(" "),s("p",[t._v("To fix this, open git bash and search for pgb:")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("where gpg\n")])])]),s("p",[t._v("Copy the path that goes to the recent GnuPG folder, for example:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("C:\\Program Files (x86)\\GnuPG\\bin\\gpg.exe\n")])])]),s("p",[t._v("Then create a new file, if it doesn't exists, under your user profile (C:\\Users\\USER\\.bash_profile) named .bash_profile and fill out this into the file:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("alias gpg=\"'C:\\Program Files (x86)\\GnuPG\\bin\\gpg.exe'\"\n")])])]),s("p",[t._v("Then run the same gpg command to list keys, and you should see same result in cmd and git bash.")]),t._v(" "),s("ol",{attrs:{start:"6"}},[s("li",[t._v("Configure git repo to always sign. You can do this globally with the flag --global if you want to.")])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Local only")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config user.signingkey KEYID\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config commit.gpgsign "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n")])])]),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Globally")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --global user.signingkey KEYID\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --global commit.gpgsign "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n")])])]),s("p",[t._v("You might also want to inform git to use the custom GPG you installed and not the one included with for example Github Desktop:")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --global gpg.program "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"C:\\Program Files (x86)\\GnuPG'),s("span",{pre:!0,attrs:{class:"token entity",title:"\\b"}},[t._v("\\b")]),t._v('in\\gpg.exe"')]),t._v("\n")])])]),s("ol",{attrs:{start:"7"}},[s("li",[t._v("Get your public key:")])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("gpg --armor --export KEYID\n")])])]),s("ol",{attrs:{start:"8"}},[s("li",[t._v("Add your "),s("a",{attrs:{href:"https://github.com/settings/keys",target:"_blank",rel:"noopener noreferrer"}},[t._v("Public Key to Github"),s("OutboundLink")],1),t._v(".")])]),t._v(" "),s("h2",{attrs:{id:"linux"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#linux"}},[t._v("#")]),t._v(" Linux")]),t._v(" "),s("p",[t._v("TBA")]),t._v(" "),s("h2",{attrs:{id:"addtional-links"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#addtional-links"}},[t._v("#")]),t._v(" Addtional links")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://help.github.com/en/articles/signing-commits",target:"_blank",rel:"noopener noreferrer"}},[t._v("Signing commits by Github"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://gist.github.com/BoGnY/f9b1be6393234537c3e247f33e74094a",target:"_blank",rel:"noopener noreferrer"}},[t._v("How to enable auto-signing Git commits with GnuPG for programs that don't support it natively"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://stackoverflow.com/questions/46863981/how-to-sign-git-commits-from-within-an-ide-like-intellij/46884134#46884134",target:"_blank",rel:"noopener noreferrer"}},[t._v("Since git 2.19.1, gpg2 is supported!"),s("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=n.exports}}]);